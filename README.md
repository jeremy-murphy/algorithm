radix sort
==========

This is an implementation (and speed test) of radix sort, based on the algorithm in CLRS[1].

Sorting is one of the fundamental tasks that a computer carries out, often implicitly.
Knuth made some quip about a large percentage of all computation being sorting, but I can't find it.
Common comparison sort algorithms have a worst-case complexity of O(n lg(n))[2].
Counting sort algorithms have a worst-case complexity of Î˜(n + k) if k = O(n).

This implementation of radix sort has pretty good performance characteristics on x86 for large n.
x std::sort means "times faster than std::sort" on average.

    type    x std::sort
    --------------------
    char    13.5
    short    3.6
    int      2.9
    long     1.4


I would really like to test on non-x86 architectures!
MIPS, Sparc, Itanium, Power, anything will help -- please get in touch.

### Raw speed test data

Starting: /var/tmp/algorithm/gcc/speed_test 0 24

    *** poisson_distribution, mean = numeric_limits<T>::max() / 2
    === Test (seed = 0, T = h). ===
    log2(n) t/n (ns)    c   x sort  x stable_sort
    -------------------------------------------------------------
    1    41.14    41.14   0.4 1.0
    2    28.04    14.02   0.5 1.0
    3    16.56    5.52    0.4 0.9
    4     9.55    2.39    0.9 1.5
    5     6.27    1.25    1.1 1.9
    6     4.71    0.78    1.6 3.1
    7     6.30    0.90    2.2 3.1
    8     5.18    0.65    4.5 6.4
    9     4.33    0.48    5.9 9.7
    10     4.82    0.48    6.1 9.1
    11     4.95    0.45    6.4 9.1
    12     4.59    0.38    7.1 10.7
    13     5.91    0.45    5.6 8.4
    14     6.72    0.48    5.0 7.9
    15     6.92    0.46    5.0 8.0
    16     7.08    0.44    5.0 8.4
    17     9.32    0.55    4.0 6.7
    18    10.68    0.59    3.7 10.6
    19    10.89    0.57    3.8 11.0
    20    12.14    0.61    3.7 10.8
    21    10.91    0.52    4.2 12.4
    22    10.86    0.49    4.5 14.1
    23    11.27    0.49    4.9 15.9
    24    11.53    0.48    4.7 20.1
    === Test (seed = 0, T = t). ===
    log2(n) t/n (ns)    c   x sort  x stable_sort
    -------------------------------------------------------------
    1   328.89    328.89  0.0 0.1
    2   169.57    84.79   0.0 0.1
    3    83.24    27.75   0.1 0.2
    4    45.24    11.31   0.2 0.3
    5    25.86    5.17    0.3 0.5
    6    16.54    2.76    0.6 0.9
    7    13.15    1.88    1.1 1.6
    8    12.14    1.52    1.9 2.7
    9    12.27    1.36    2.5 3.3
    10    11.61    1.16    3.2 4.1
    11    11.88    1.08    3.5 4.3
    12    11.28    0.94    4.0 5.1
    13    11.63    0.89    4.0 5.1
    14    14.12    1.01    3.3 4.6
    15    14.19    0.95    3.3 4.7
    16    16.27    1.02    2.9 4.4
    17    23.18    1.36    2.1 3.3
    18    25.94    1.44    2.0 4.4
    19    25.71    1.35    2.1 4.9
    20    26.48    1.32    2.1 5.1
    21    27.38    1.30    2.1 5.1
    22    26.67    1.21    2.3 6.0
    23    27.11    1.18    2.3 6.4
    24    38.44    1.60    1.6 5.9
    === Test (seed = 0, T = j). ===
    log2(n) t/n (ns)    c   x sort  x stable_sort
    -------------------------------------------------------------
    1   601.16    601.16  0.0 0.1
    2   306.87    153.43  0.0 0.1
    3   159.70    53.23   0.0 0.1
    4    83.81    20.95   0.1 0.2
    5    49.08    9.82    0.1 0.3
    6    32.38    5.40    0.3 0.5
    7    27.01    3.86    0.7 0.7
    8    23.51    2.94    1.0 1.4
    9    24.99    2.78    1.2 1.6
    10    22.03    2.20    1.7 2.2
    11    22.66    2.06    2.0 2.3
    12    23.61    1.97    2.1 2.5
    13    24.90    1.92    2.1 2.5
    14    30.24    2.16    1.9 2.3
    15    30.05    2.00    2.1 2.4
    16    35.86    2.24    1.8 2.3
    17    47.86    2.82    1.4 1.8
    18    52.04    2.89    1.4 2.2
    19    53.75    2.83    1.4 2.3
    20    58.51    2.93    1.4 2.4
    21    56.65    2.70    1.5 2.6
    22    58.55    2.66    1.5 2.9
    23    65.34    2.84    1.3 2.9
    24    94.30    3.93    0.9 2.7
    === Test (seed = 0, T = m). ===
    log2(n) t/n (ns)    c   x sort  x stable_sort
    -------------------------------------------------------------
    1 1,099.99    1,099.99    0.0 0.0
    2   567.41    283.71  0.0 0.0
    3   299.61    99.87   0.0 0.1
    4   157.79    39.45   0.0 0.1
    5    92.43    18.49   0.1 0.1
    6    62.71    10.45   0.2 0.2
    7    50.81    7.26    0.4 0.4
    8    51.90    6.49    0.5 0.7
    9    48.70    5.41    0.6 0.8
    10    48.06    4.81    0.8 1.0
    11    50.76    4.61    0.8 1.0
    12    49.87    4.16    1.0 1.2
    13    50.88    3.91    1.0 1.3
    14    57.26    4.09    1.0 1.2
    15    58.67    3.91    1.0 1.2
    16    63.77    3.99    1.0 1.3
    17    80.41    4.73    0.8 1.1
    18    90.86    5.05    0.8 1.3
    19    96.77    5.09    0.8 1.4
    20    99.59    4.98    0.8 1.4
    21    93.91    4.47    0.9 1.6
    22    93.78    4.26    1.0 1.8
    23   101.61    4.42    0.9 1.9
    24   127.13    5.30    0.8 2.2
    
    *** uniform_int_distribution, min = 0, k = numeric_limits<T>::max()
    === Test (seed = 0, T = h). ===
    log2(n) t/n (ns)    c   x sort  x stable_sort
    -------------------------------------------------------------
    1    39.96    39.96   0.3 1.0
    2    38.65    19.32   0.2 0.6
    3    21.32    7.11    0.3 0.8
    4    18.72    4.68    0.5 0.8
    5    11.02    2.20    0.6 1.1
    6     7.12    1.19    1.1 2.2
    7     6.80    0.97    2.3 2.8
    8     4.77    0.60    5.1 6.5
    9     4.74    0.53    6.5 8.6
    10     5.32    0.53    6.9 8.9
    11     5.05    0.46    7.7 9.9
    12     4.89    0.41    8.4 11.3
    13     7.08    0.54    5.9 7.8
    14     7.30    0.52    5.8 8.4
    15     8.26    0.55    5.6 7.9
    16     8.70    0.54    5.1 7.8
    17     9.74    0.57    4.7 7.3
    18    11.45    0.64    4.2 9.3
    19    11.25    0.59    4.3 11.5
    20    12.31    0.62    4.4 10.9
    21    11.40    0.54    4.6 12.1
    22    11.36    0.52    4.8 13.6
    23    11.64    0.51    4.9 14.5
    24    12.64    0.53    4.7 17.7
    === Test (seed = 0, T = t). ===
    log2(n) t/n (ns)    c   x sort  x stable_sort
    -------------------------------------------------------------
    1   339.71    339.71  0.0 0.1
    2   177.67    88.83   0.0 0.1
    3    85.30    28.43   0.1 0.2
    4    47.21    11.80   0.2 0.3
    5    27.55    5.51    0.3 0.5
    6    16.73    2.79    0.5 0.9
    7    12.96    1.85    1.3 1.6
    8    11.53    1.44    2.1 2.8
    9    11.03    1.23    2.8 3.8
    10    11.95    1.19    3.3 4.1
    11    12.95    1.18    3.4 4.1
    12    11.84    0.99    4.1 5.1
    13    14.48    1.11    3.8 4.4
    14    16.22    1.16    3.5 4.4
    15    17.68    1.18    3.6 4.2
    16    23.92    1.49    2.9 3.7
    17    25.23    1.48    2.6 3.4
    18    27.61    1.53    2.5 4.1
    19    28.46    1.50    2.6 4.4
    20    28.47    1.42    2.6 4.9
    21    30.53    1.45    2.5 4.8
    22    31.43    1.43    2.5 5.2
    23    30.17    1.31    2.6 6.2
    24    45.51    1.90    1.9 5.8
    === Test (seed = 0, T = j). ===
    log2(n) t/n (ns)    c   x sort  x stable_sort
    -------------------------------------------------------------
    1   623.73    623.73  0.0 0.1
    2   301.81    150.90  0.0 0.1
    3   156.85    52.28   0.0 0.1
    4    83.79    20.95   0.1 0.2
    5    49.99    10.00   0.1 0.2
    6    31.49    5.25    0.3 0.5
    7    26.16    3.74    0.6 0.8
    8    24.43    3.05    1.0 1.3
    9    22.26    2.47    1.4 1.8
    10    21.84    2.18    1.8 2.2
    11    24.55    2.23    1.8 2.1
    12    23.56    1.96    2.1 2.6
    13    35.40    2.72    1.6 1.8
    14    33.72    2.41    1.7 2.1
    15    34.46    2.30    1.8 2.1
    16    40.24    2.51    1.6 2.0
    17    51.47    3.03    1.3 1.7
    18    57.50    3.19    1.3 2.1
    19    62.82    3.31    1.3 2.2
    20    62.72    3.14    1.3 2.2
    21    63.01    3.00    1.4 2.4
    22    64.87    2.95    1.4 2.6
    23    72.72    3.16    1.4 2.7
    24   100.90    4.20    1.0 2.8
    === Test (seed = 0, T = m). ===
    log2(n) t/n (ns)    c   x sort  x stable_sort
    -------------------------------------------------------------
    1  1,139.18  1,139.18  0.0 0.0
    2    572.75    286.37  0.0 0.0
    3    291.43    97.14   0.0 0.1
    4    156.41    39.10   0.0 0.1
    5     92.46    18.49   0.1 0.1
    6     58.08    9.68    0.2 0.3
    7     48.21    6.89    0.4 0.5
    8     45.55    5.69    0.6 0.8
    9     38.15    4.24    0.9 1.1
    10    39.03    3.90    1.0 1.2
    11    41.52    3.77    1.0 1.2
    12    42.51    3.54    1.1 1.4
    13    48.02    3.69    1.1 1.3
    14    60.55    4.33    0.9 1.1
    15    63.05    4.20    0.9 1.2
    16    71.08    4.44    0.9 1.1
    17    88.71    5.22    0.8 1.0
    18    99.61    5.53    0.7 1.1
    19   102.39    5.39    0.8 1.2
    20   107.94    5.40    0.8 1.3
    21   107.08    5.10    0.8 1.4
    22   107.91    4.91    0.8 1.6
    23   117.00    5.09    0.8 1.7
    24   160.24    6.68    0.6 1.7
    *** Exited normally ***

[1] Cormen, T. H., et al. "Introduction to Algorithms MIT Press." Cambridge, MA, (2009).

[2] https://en.wikipedia.org/wiki/Introsort
